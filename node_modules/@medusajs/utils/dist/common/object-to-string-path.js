"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.objectToStringPath = void 0;
var is_object_1 = require("./is-object");
/**
 * Converts a structure of find options to an
 * array of string paths
 * @example
 * input: {
 *   test: {
 *     test1: true,
 *     test2: true,
 *     test3: {
 *       test4: true
 *     },
 *   },
 *   test2: true
 * }
 * output: ['test.test1', 'test.test2', 'test.test3.test4', 'test2']
 * @param input
 */
function objectToStringPath(input) {
    if (input === void 0) { input = {}; }
    if (!(0, is_object_1.isObject)(input) || !Object.keys(input).length) {
        return [];
    }
    var output = new Set(Object.keys(input));
    var _loop_1 = function (key) {
        if (input[key] != undefined && typeof input[key] === "object") {
            var deepRes = objectToStringPath(input[key]);
            var items = deepRes.reduce(function (acc, val) {
                acc.push("".concat(key, ".").concat(val));
                return acc;
            }, []);
            items.forEach(function (item) { return output.add(item); });
            return "continue";
        }
        output.add(key);
    };
    for (var _i = 0, _a = Object.keys(input); _i < _a.length; _i++) {
        var key = _a[_i];
        _loop_1(key);
    }
    return Array.from(output);
}
exports.objectToStringPath = objectToStringPath;
//# sourceMappingURL=object-to-string-path.js.map